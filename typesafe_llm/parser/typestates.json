{
  "states": ["q1", "q2"],
  "symbols": ["open-file", "read-file", "write-file", "close-file"],
  "initial_state": "q1",
  "final_states": ["q1"],
  "internal_vars": {"f": null},
  "transitions": [
    {
      "from_state": "q1",
      "symbol": "open-file",
      "predicate": {},
      "to_state": "q2",
      "var_updates": {"f": "--file-name"}
    },
    {
      "from_state": "q2",
      "symbol": "read-file",
      "predicate": {"--file-name": "f"},
      "to_state": "q2",
      "var_updates": {}
    },
    {
      "from_state": "q2",
      "symbol": "write-file",
      "predicate": {"--file-name": "f"},
      "to_state": "q2",
      "var_updates": {}
    },
    {
      "from_state": "q2",
      "symbol": "close-file",
      "predicate": {"--file-name": "f"},
      "to_state": "q1",
      "var_updates": {"f": null}
    }
  ]
} 